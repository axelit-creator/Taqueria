<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caja Taqueria</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="offline-indicator">âœ“ Modo Offline</div>
    
    <div class="container">
        <div class="header">
            <h1>ðŸŒ® Caja Taqueria </h1>
            <p>Punto de Venta Offline</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showSection('new-order')">Nueva Orden</button>
            <button class="tab" onclick="showSection('orders')">Ã“rdenes Guardadas</button>
            <button class="tab" onclick="showSection('history')">Historial</button>
        </div>

        <div class="content">
            <!-- Nueva Orden Section -->
            <div id="new-order" class="section active">
                <h2>Crear Nueva Orden</h2>
                
                <div class="location-selector" id="location-selector">
                    <button class="location-btn" onclick="selectLocation('Mesa 1')">Mesa 1</button>
                    <button class="location-btn" onclick="selectLocation('Mesa 2')">Mesa 2</button>
                    <button class="location-btn" onclick="selectLocation('Mesa 3')">Mesa 3</button>
                    <button class="location-btn" onclick="selectLocation('Mesa 4')">Mesa 4</button>
                    <button class="location-btn" onclick="selectLocation('Adentro 1')">Adentro 1</button>
                    <button class="location-btn" onclick="selectLocation('Adentro 2')">Adentro 2</button>
                    <button class="location-btn" onclick="selectLocation('Adentro 3')">Adentro 3</button>
                    <button class="location-btn" onclick="selectLocation('Mesa Arriba')">Mesa Arriba</button>
                    <button class="location-btn" onclick="selectLocation('Mesa Abajo')">Mesa Abajo</button>
                    <button class="location-btn" onclick="selectLocation('Para Llevar')">Para Llevar</button>
                </div>

                <div class="products-grid" id="products-grid">
                    <!-- Products will be populated by JavaScript -->
                </div>

                <div class="order-summary">
                    <h3>Resumen de Orden - <span id="current-location">Selecciona ubicaciÃ³n</span></h3>
                    <div class="order-items" id="order-items">
                        <p class="text-center">Agrega productos a la orden...</p>
                    </div>
                    <div class="order-total">
                        Total: $<span id="order-total">0.00</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="saveOrder()">Guardar Orden</button>
                    <button class="btn btn-primary" onclick="goToPayment()">Ir a Cobro</button>
                </div>
            </div>

            <!-- Ã“rdenes Guardadas Section -->
            <div id="orders" class="section">
                <h2>Ã“rdenes Pendientes</h2>
                <div class="orders-list" id="orders-list">
                    <!-- Orders will be populated by JavaScript -->
                </div>
            </div>

            <!-- Historial Section -->
            <div id="history" class="section">
                <h2>Historial de Ventas</h2>
                <div class="history-controls">
                    <input type="date" id="history-date" class="payment-input">
                    <button class="btn btn-primary" onclick="exportHistory()">Exportar CSV</button>
                </div>
                <div class="history-list" id="history-list">
                    <!-- History will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <h2>Cobrar Orden</h2>
            <div class="payment-display">
                <div class="payment-total">Total: $<span id="payment-total">0.00</span></div>
                <p>UbicaciÃ³n: <span id="payment-location"></span></p>
            </div>

            <div class="quick-payment">
                <button class="quick-btn" onclick="setPaymentAmount('total')">$Total</button>
                <button class="quick-btn" onclick="setPaymentAmount('total+10')">$Total+10</button>
                <button class="quick-btn" onclick="setPaymentAmount(200)">$200</button>
                <button class="quick-btn" onclick="setPaymentAmount(500)">$500</button>
                <button class="quick-btn" onclick="setPaymentAmount(1000)">$1000</button>
            </div>

            <input type="number" id="amount-received" class="payment-input" placeholder="Cantidad recibida" step="0.01" min="0" oninput="calculateChange()">

            <div class="change-display">
                Cambio: $<span id="change-amount">0.00</span>
            </div>

            <div class="suggestion" id="change-suggestion">
                <!-- Change suggestion will appear here -->
            </div>

            <div class="action-buttons">
                <button class="btn btn-danger" onclick="closePaymentModal()">Cancelar</button>
                <button class="btn btn-success" onclick="completePayment()">Completar Cobro</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>

</body>
</html>

